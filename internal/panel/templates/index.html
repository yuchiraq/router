<<<<<<< HEAD
{{define "title"}}Home{{end}}

{{define "head"}}
<style>
    .switch {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 34px;
    }

    .switch input { 
        opacity: 0;
        width: 0;
        height: 0;
    }

    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        -webkit-transition: .4s;
        transition: .4s;
        border-radius: 34px;
    }

    .slider:before {
        position: absolute;
        content: "";
        height: 26px;
        width: 26px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        -webkit-transition: .4s;
        transition: .4s;
        border-radius: 50%;
    }

    input:checked + .slider {
        background-color: #ff6f61;
    }

    input:focus + .slider {
        box-shadow: 0 0 1px #ff6f61;
    }

    input:checked + .slider:before {
        -webkit-transform: translateX(26px);
        -ms-transform: translateX(26px);
        transform: translateX(26px);
    }

    .maintenance-form {
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .switch-small {
        width: 44px;
        height: 26px;
    }

    .switch-small .slider:before {
        height: 20px;
        width: 20px;
        left: 3px;
        bottom: 3px;
    }

    .switch-small input:checked + .slider:before {
        transform: translateX(18px);
    }
</style>
{{end}}
=======
>>>>>>> main

{{define "content"}}
<div class="header">
    <h1>Dashboard</h1>
    <form action="/toggle_maintenance" method="post" class="maintenance-form">
        <label for="maintenance-mode">Maintenance Mode:</label>
        <input type="checkbox" id="maintenance-mode" name="maintenance" onchange="this.form.submit()" {{if .MaintenanceMode}}checked{{end}}>
    </form>
</div>

<<<<<<< HEAD
<div class="card">
    <div class="card-header">Maintenance Mode</div>
    <div class="card-body">
        <form action="/" method="post" class="maintenance-form">
            <label class="switch">
                <input type="checkbox" name="maintenance" {{if .MaintenanceMode}}checked{{end}} onchange="this.form.submit()">
                <span class="slider"></span>
            </label>
            <span>Enable Maintenance Mode</span>
        </form>
    </div>
</div>

<div class="card">
    <div class="card-header">Add New Rule</div>
    <div class="card-body">
        <form action="/add" method="post" class="form-inline">
            <input type="text" name="host" class="form-control" placeholder="example.com" required>
            <input type="text" name="target" class="form-control" placeholder="http://localhost:3000" required>
            <button type="submit" class="btn">Add Rule</button>
        </form>
=======
<div class="content-grid">
    <div class="card">
        <div class="card-header">Add New Rule</div>
        <div class="card-body">
            <form action="/add" method="post" class="rule-form">
                <input type="text" name="host" placeholder="Host (e.g., test.com)" required>
                <input type="text" name="target" placeholder="Target (e.g., http://localhost:8080)" required>
                <button type="submit">Add Rule</button>
            </form>
        </div>
>>>>>>> main
    </div>

<<<<<<< HEAD
<div class="card">
    <div class="card-header">Current Rules</div>
    <div class="card-body">
        <ul class="rule-list">
            {{if not .Rules}}
                <p>No rules have been added yet.</p>
            {{else}}
                {{range .Rules}}
                <li class="rule-item">
                    <div class="rule-info">
                        <span class="domain">{{.Host}}</span>
                        <span class="target">{{.Target}}</span>
                    </div>
                    <div class="rule-actions">
                        <form action="/rule/maintenance" method="post" style="display: inline;">
                            <input type="hidden" name="host" value="{{.Host}}">
                            <label class="switch switch-small">
                                <input type="checkbox" name="maintenance" {{if .Maintenance}}checked{{end}} onchange="this.form.submit()">
                                <span class="slider"></span>
                            </label>
                        </form>
                        <form action="/remove" method="post" style="display: inline;">
                            <input type="hidden" name="host" value="{{.Host}}">
                            <button type="submit" class="btn btn-danger">Remove</button>
                        </form>
                    </div>
                </li>
                {{end}}
            {{end}}
        </ul>
=======
    <div class="card full-width">
        <div class="card-header">Routing Rules</div>
        <div class="card-body">
            <table class="rules-table">
                <thead>
                    <tr>
                        <th>Host</th>
                        <th>Target</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {{range $host, $target := .Rules}}
                    <tr>
                        <td>{{$host}}</td>
                        <td>{{$target}}</td>
                        <td>
                            <form action="/remove" method="post" style="display:inline;">
                                <input type="hidden" name="host" value="{{$host}}">
                                <button type-="submit" class="btn-danger">Remove</button>
                            </form>
                        </td>
                    </tr>
                    {{else}}
                    <tr>
                        <td colspan="3" class="text-center">No rules yet.</td>
                    </tr>
                    {{end}}
                </tbody>
            </table>
        </div>
>>>>>>> main
    </div>
</div>
{{end}}
